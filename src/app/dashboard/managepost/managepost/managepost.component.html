<div class="main">
  <nav>
    <div class="back">
      <toggle-menu></toggle-menu>
    </div>

    <div class="heading">
      <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4.44444 4.4V1.1C4.44444 0.808261 4.56151 0.528472 4.76988 0.322182C4.97826 0.115892 5.26087 0 5.55556 0H18.8889C19.1836 0 19.4662 0.115892 19.6746 0.322182C19.8829 0.528472 20 0.808261 20 1.1V16.5C20 16.7917 19.8829 17.0715 19.6746 17.2778C19.4662 17.4841 19.1836 17.6 18.8889 17.6H15.5556V20.9C15.5556 21.5072 15.0556 22 14.4367 22H1.11889C0.972363 22.0008 0.827108 21.973 0.691469 21.9182C0.55583 21.8633 0.432481 21.7824 0.32851 21.6802C0.224538 21.578 0.141992 21.4564 0.0856159 21.3225C0.0292396 21.1886 0.000143749 21.045 0 20.9L0.00333336 5.49999C0.00333336 4.8928 0.503333 4.4 1.12111 4.4H4.44444ZM2.22444 6.59999L2.22222 19.8H13.3333V6.59999H2.22444ZM6.66667 4.4H15.5556V15.4H17.7778V2.2H6.66667V4.4ZM4.44444 9.89999H11.1111V12.1H4.44444V9.89999ZM4.44444 14.3H11.1111V16.5H4.44444V14.3Z"
          fill="var(--green)" />
      </svg>
      <p>Create Post</p>
    </div>
    <div class="add">
      <!-- <a [routerLink]="['add']"> -->
      <a [routerLink]="['add']">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M1.11111 0H18.8889C19.1836 0 19.4662 0.117063 19.6746 0.325437C19.8829 0.533811 20 0.816426 20 1.11111V18.8889C20 19.1836 19.8829 19.4662 19.6746 19.6746C19.4662 19.8829 19.1836 20 18.8889 20H1.11111C0.816426 20 0.533811 19.8829 0.325437 19.6746C0.117063 19.4662 0 19.1836 0 18.8889V1.11111C0 0.816426 0.117063 0.533811 0.325437 0.325437C0.533811 0.117063 0.816426 0 1.11111 0ZM2.22222 2.22222V17.7778H17.7778V2.22222H2.22222ZM8.88889 8.88889V4.44444H11.1111V8.88889H15.5556V11.1111H11.1111V15.5556H8.88889V11.1111H4.44444V8.88889H8.88889Z"
            fill="var(--green)" />
        </svg>
      </a>
    </div>
  </nav>
  <div class="no-found" *ngIf="false">
    <h2>No posts found</h2>
  </div>

  <div *ngIf="true" class="products-container">


    <div class="products" *ngFor="let item of my_posts; index as i">
      <div class="row-one">
        <span class="subcategory">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" y="0.5" width="15" height="15" rx="7.5" fill="#BCC3CC" stroke="#BCC3CC" />
            <mask id="path-2-inside-1_741_913" fill="white">
              <rect x="3" y="4" width="10" height="2.8125" rx="0.5" />
            </mask>
            <rect x="3" y="4" width="10" height="2.8125" rx="0.5" stroke="white" stroke-width="1.4"
              mask="url(#path-2-inside-1_741_913)" />
            <mask id="path-3-inside-2_741_913" fill="white">
              <rect x="3.625" y="6.25" width="8.75" height="6.75" rx="0.5" />
            </mask>
            <rect x="3.625" y="6.25" width="8.75" height="6.75" rx="0.5" stroke="white" stroke-width="1.4"
              mask="url(#path-3-inside-2_741_913)" />
            <rect x="8.84995" y="4.35" width="3.75455" height="1.8" transform="rotate(90 8.84995 4.35)" fill="#BCC3CC"
              stroke="white" stroke-width="0.7" />
          </svg>
          <p class="product_name" (click)="view_image('content', item)">{{item.productName}}</p>
        </span>
        <p class="quantity">
          {{item.quantity}} {{item.unit}}
        </p>
        <div>
          <a [routerLink]="['add']" [queryParams]="{id:item._id}"
            *ngIf="item.status=='Active' || item.status=='Assigned ' && item.startTime < iso">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M11.6461 0.761905L9.95302 2.45503H1.69312V14.3069H13.545V6.04698L15.2381 4.35386V15.1534C15.2381 15.378 15.1489 15.5933 14.9901 15.752C14.8314 15.9108 14.6161 16 14.3915 16H0.846561C0.622039 16 0.406713 15.9108 0.247952 15.752C0.0891909 15.5933 0 15.378 0 15.1534V1.60847C0 1.38394 0.0891909 1.16862 0.247952 1.00986C0.406713 0.851096 0.622039 0.761905 0.846561 0.761905H11.6461ZM14.8021 0L16 1.19873L8.21841 8.98032L7.02307 8.98286L7.02138 7.78328L14.8021 0Z"
                fill="#0d6efd" />
            </svg>
          </a>
        </div>
      </div>

      <div class="row-one">
        <span class="category">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" y="0.5" width="19" height="19" rx="9.5" fill="#BCC3CC" stroke="#BCC3CC" />
            <path
              d="M12.3077 9.11111L15.2123 6.31407C15.2769 6.252 15.3591 6.20973 15.4485 6.19261C15.538 6.1755 15.6307 6.1843 15.715 6.2179C15.7993 6.25151 15.8714 6.30842 15.9221 6.38143C15.9728 6.45445 15.9999 6.5403 16 6.62815V13.3719C15.9999 13.4597 15.9728 13.5456 15.9221 13.6186C15.8714 13.6916 15.7993 13.7485 15.715 13.7821C15.6307 13.8157 15.538 13.8245 15.4485 13.8074C15.3591 13.7903 15.2769 13.748 15.2123 13.6859L12.3077 10.8889M5.38462 14H10.9231C11.2903 14 11.6425 13.8595 11.9021 13.6095C12.1618 13.3594 12.3077 13.0203 12.3077 12.6667V7.33333C12.3077 6.97971 12.1618 6.64057 11.9021 6.39052C11.6425 6.14048 11.2903 6 10.9231 6H5.38462C5.01739 6 4.66521 6.14048 4.40554 6.39052C4.14588 6.64057 4 6.97971 4 7.33333V12.6667C4 13.0203 4.14588 13.3594 4.40554 13.6095C4.66521 13.8595 5.01739 14 5.38462 14Z"
              stroke="white" stroke-width="0.8" stroke-linecap="round" />
          </svg>
          <p>
            <span *ngIf="item.streamName==null" style="color:orange;font-size: 11px;">Not Yet Assing</span>
            <span *ngIf="item.streamName!=null">{{item.streamName}}</span>
          </p>
        </span>
        <p class="price" style="padding-left: 0px;">
          {{item.offerPrice|currency:'INR'}}/<sub class="striked">{{item.marketPlace|currency:'INR'}}</sub>
        </p>
        <div class="view-icons">
          <span (click)="delete_post(item._id)" *ngIf="item.status=='Active'">
            <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12.0769 3.38636L11.6923 10.1522C11.6716 10.5168 11.5169 10.8595 11.2598 11.1101C11.0027 11.3607 10.6628 11.5001 10.3095 11.5H3.69046C3.33721 11.5001 2.99726 11.3607 2.7402 11.1101C2.48314 10.8595 2.32842 10.5168 2.30769 10.1522L1.92308 3.38636M5.61538 6.01136L7 7.44318M7 7.44318L8.38462 8.875M7 7.44318L8.38462 6.01136M7 7.44318L5.61538 8.875M1.69231 3.38636H12.3077C12.6898 3.38636 13 3.06564 13 2.67045V1.71591C13 1.32073 12.6898 1 12.3077 1H1.69231C1.31015 1 1 1.32073 1 1.71591V2.67045C1 3.06564 1.31015 3.38636 1.69231 3.38636Z"
                stroke="#FF4C4C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </span>
          <span (click)="remove_post(item)"
            *ngIf="item.status=='Completed' ||item.status=='Assigned' && item.endTime < iso">
            <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M15.7692 4.18182L15.2564 13.2029C15.2288 13.6891 15.0225 14.146 14.6797 14.4801C14.337 14.8142 13.8837 15.0002 13.4127 15H4.58728C4.11628 15.0002 3.66301 14.8142 3.32027 14.4801C2.97752 14.146 2.77122 13.6891 2.74359 13.2029L2.23077 4.18182M7.15385 7.68182L9 9.59091M9 9.59091L10.8462 11.5M9 9.59091L10.8462 7.68182M9 9.59091L7.15385 11.5M1.92308 4.18182H16.0769C16.5865 4.18182 17 3.75418 17 3.22727V1.95455C17 1.42764 16.5865 1 16.0769 1H1.92308C1.41354 1 1 1.42764 1 1.95455V3.22727C1 3.75418 1.41354 4.18182 1.92308 4.18182Z"
                stroke="#BCC3CC" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="pagenation">
  <button class="prev page-btn" [disabled]="page==0" (click)="pagination('prev')">
    <svg width="13" height="21" viewBox="0 0 13 21" fill="none" xmlns="http://www.w3.org/2000/svg"
      [ngClass]="page==0?'disable-svg':''">
      <path
        d="M11.58 0.460035C11.8557 0.746552 12.0063 1.13079 11.9988 1.52831C11.9913 1.92584 11.8263 2.30412 11.54 2.58003L3.66401 10L11.54 17.42C11.6887 17.5549 11.8088 17.7183 11.8932 17.9004C11.9776 18.0825 12.0246 18.2798 12.0314 18.4804C12.0382 18.681 12.0046 18.881 11.9327 19.0684C11.8608 19.2558 11.752 19.4269 11.6127 19.5715C11.4735 19.7161 11.3066 19.8313 11.122 19.9102C10.9375 19.9892 10.7389 20.0303 10.5382 20.031C10.3374 20.0318 10.1386 19.9923 9.95336 19.9149C9.76816 19.8374 9.6004 19.7235 9.46001 19.58L0.460015 11.08C0.314842 10.9401 0.199369 10.7724 0.120498 10.5868C0.0416265 10.4012 0.000976562 10.2017 0.000976562 10C0.000976562 9.7984 0.0416265 9.59884 0.120498 9.41328C0.199369 9.22772 0.314842 9.05996 0.460015 8.92003L9.46001 0.420035C9.74653 0.144374 10.1308 -0.00625661 10.5283 0.00124382C10.9258 0.00874426 11.3041 0.173762 11.58 0.460035Z"
        fill="var(--green)" />
    </svg>

  </button>
  <p class="page-no">{{page+1}}</p>
  <button class="prev page-btn" [disabled]="!next" (click)="pagination('next')">
    <svg width="13" height="21" viewBox="0 0 13 21" fill="none" xmlns="http://www.w3.org/2000/svg"
      [ngClass]="!next?'disable-svg':''">
      <path
        d="M1.41998 20.54C1.14432 20.2534 0.993693 19.8692 1.00119 19.4717C1.00869 19.0742 1.17371 18.6959 1.45998 18.42L9.33598 11L1.45998 3.57997C1.31129 3.44509 1.19119 3.28175 1.10679 3.0996C1.02239 2.91746 0.975403 2.72023 0.968624 2.5196C0.961846 2.31897 0.995409 2.11901 1.06732 1.93159C1.13924 1.74417 1.24804 1.57308 1.38729 1.42848C1.52654 1.28388 1.69339 1.1687 1.87797 1.08977C2.06254 1.01083 2.26109 0.96975 2.46183 0.968957C2.66258 0.968163 2.86144 1.00767 3.04664 1.08514C3.23183 1.16261 3.3996 1.27647 3.53998 1.41997L12.54 9.91997C12.6852 10.0599 12.8006 10.2276 12.8795 10.4132C12.9584 10.5988 12.999 10.7983 12.999 11C12.999 11.2016 12.9584 11.4012 12.8795 11.5867C12.8006 11.7723 12.6852 11.94 12.54 12.08L3.53999 20.58C3.25347 20.8556 2.86923 21.0063 2.47171 20.9988C2.07418 20.9913 1.6959 20.8262 1.41998 20.54Z"
        fill="var(--green)" />
    </svg>

  </button>

</div>

<div class="modal fade" id="buyplan" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog  modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-body">
        <p>Add post will be active after purchasing the plan!</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ok</button>

      </div>
    </div>
  </div>
</div>


<!-- popup -->

<div class="popup" *ngIf="view_details != null">
  <div class="dummy" (click)="close_popup()"></div>
  <div class="popup-container">
    <a class="popupclose" (click)="close_popup()">x</a>
    <ul>
      <li [ngClass]="view_details_type == 'content' ? 'active' : ''" (click)="view_details_type_action('content')">
        Details
      </li>
      <li [ngClass]="view_details_type == 'image' ? 'active' : ''" (click)="view_details_type_action('image')">
        Images
      </li>
      <li [ngClass]="view_details_type == 'video' ? 'active' : ''" (click)="view_details_type_action('video')">
        Teaser
      </li>
    </ul>
    <!-- details -->
    <div class="details" *ngIf="view_details_type == 'content'">
      <div>
        <label>Product Name :</label>
        <p>{{ view_details.productName }}</p>
      </div>
      <div>
        <label>Unit :</label>
        <p>{{ view_details.unit?view_details.unit:'nill' }}</p>
      </div>
      <div>
        <label>Quantity :</label>
        <p>{{ view_details.quantity }}</p>
      </div>
      <div>
        <label>Market Price :</label>
        <p>{{ view_details.marketPlace }}</p>
      </div>
      <div>
        <label>Offer Price :</label>
        <p>{{ view_details.offerPrice }}</p>
      </div>
      <div>
        <label>Booking Amount :</label>
        <p>{{ view_details.bookingAmount }}</p>
      </div>

      <div>
        <label>Post Live Streaming Pirce :</label>
        <p>{{ view_details.postLiveStreamingPirce?view_details.postLiveStreamingPirce:'null' }}</p>
      </div>
      <div>
        <label>Min Lots :</label>
        <p>{{ view_details.minLots }}</p>
      </div>
      <div>
        <label>Incremental Lots :</label>
        <p>{{ view_details.incrementalLots?view_details.incrementalLots:0 }}</p>
      </div>
      <div>
        <label>Description :</label>
        <p>{{ view_details.discription }}.</p>
      </div>
    </div>

    <div class="images" *ngIf="view_details_type == 'image'">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button *ngFor="let item of view_details.images; index as i" type="button"
            data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [ngClass]="i == 0 ? 'active' : ''"
            [attr.aria-current]="i == 0 ? true : false" [attr.aria-label]="'Slide ' + i"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item" *ngFor="let item of view_details.images; index as i"
            [ngClass]="i == 0 ? 'active' : ''">
            <img src="{{ baseURL + '/' + item }}" class="d-block w-100" alt="..." />
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <div class="teaser" *ngIf="view_details_type == 'video'">
      <video *ngIf="view_details.video != null" src="{{ view_details.video }}" controls></video>
    </div>
  </div>
</div>