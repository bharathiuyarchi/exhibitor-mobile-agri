<div class="main">
  <nav>
    <div class="back">
      <toggle-menu></toggle-menu>
    </div>

    <div class="heading">
      <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M4.44444 4.4V1.1C4.44444 0.808261 4.56151 0.528472 4.76988 0.322182C4.97826 0.115892 5.26087 0 5.55556 0H18.8889C19.1836 0 19.4662 0.115892 19.6746 0.322182C19.8829 0.528472 20 0.808261 20 1.1V16.5C20 16.7917 19.8829 17.0715 19.6746 17.2778C19.4662 17.4841 19.1836 17.6 18.8889 17.6H15.5556V20.9C15.5556 21.5072 15.0556 22 14.4367 22H1.11889C0.972363 22.0008 0.827108 21.973 0.691469 21.9182C0.55583 21.8633 0.432481 21.7824 0.32851 21.6802C0.224538 21.578 0.141992 21.4564 0.0856159 21.3225C0.0292396 21.1886 0.000143749 21.045 0 20.9L0.00333336 5.49999C0.00333336 4.8928 0.503333 4.4 1.12111 4.4H4.44444ZM2.22444 6.59999L2.22222 19.8H13.3333V6.59999H2.22444ZM6.66667 4.4H15.5556V15.4H17.7778V2.2H6.66667V4.4ZM4.44444 9.89999H11.1111V12.1H4.44444V9.89999ZM4.44444 14.3H11.1111V16.5H4.44444V14.3Z"
          fill="var(--green)" />
      </svg>
      <p>My Post</p>
    </div>
    <div class="add">
      <!-- <a [routerLink]="['add']"> -->
      <a [routerLink]="['add']">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M1.11111 0H18.8889C19.1836 0 19.4662 0.117063 19.6746 0.325437C19.8829 0.533811 20 0.816426 20 1.11111V18.8889C20 19.1836 19.8829 19.4662 19.6746 19.6746C19.4662 19.8829 19.1836 20 18.8889 20H1.11111C0.816426 20 0.533811 19.8829 0.325437 19.6746C0.117063 19.4662 0 19.1836 0 18.8889V1.11111C0 0.816426 0.117063 0.533811 0.325437 0.325437C0.533811 0.117063 0.816426 0 1.11111 0ZM2.22222 2.22222V17.7778H17.7778V2.22222H2.22222ZM8.88889 8.88889V4.44444H11.1111V8.88889H15.5556V11.1111H11.1111V15.5556H8.88889V11.1111H4.44444V8.88889H8.88889Z"
            fill="var(--green)" />
        </svg>
      </a>
    </div>
  </nav>
  <!-- products-container -->
  <!-- <a href="whatsapp://send?text=www.google.com" data-action="share/whatsapp/share">Share via Whatsapp</a> -->
  <div class="no-found" *ngIf="false">
    <h2>No posts found</h2>
  </div>

  <div *ngIf="true" class="products-container">


    <div class="products" *ngFor="let item of my_posts; index as i">
      <div class="row-one">
        <span class="subcategory">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" y="0.5" width="15" height="15" rx="7.5" fill="#BCC3CC" stroke="#BCC3CC" />
            <mask id="path-2-inside-1_741_913" fill="white">
              <rect x="3" y="4" width="10" height="2.8125" rx="0.5" />
            </mask>
            <rect x="3" y="4" width="10" height="2.8125" rx="0.5" stroke="white" stroke-width="1.4"
              mask="url(#path-2-inside-1_741_913)" />
            <mask id="path-3-inside-2_741_913" fill="white">
              <rect x="3.625" y="6.25" width="8.75" height="6.75" rx="0.5" />
            </mask>
            <rect x="3.625" y="6.25" width="8.75" height="6.75" rx="0.5" stroke="white" stroke-width="1.4"
              mask="url(#path-3-inside-2_741_913)" />
            <rect x="8.84995" y="4.35" width="3.75455" height="1.8" transform="rotate(90 8.84995 4.35)" fill="#BCC3CC"
              stroke="white" stroke-width="0.7" />
          </svg>
          <p class="product_name" (click)="view_image('content', item)">{{item.productName}}</p>
        </span>
        <p class="quantity">
          {{item.quantity}} {{item.unit}}
        </p>
        <div>
          <a [routerLink]="['add']" [queryParams]="{id:item._id}"
            *ngIf="item.status=='Active' || item.status=='Assigned ' && item.startTime < iso">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M11.6461 0.761905L9.95302 2.45503H1.69312V14.3069H13.545V6.04698L15.2381 4.35386V15.1534C15.2381 15.378 15.1489 15.5933 14.9901 15.752C14.8314 15.9108 14.6161 16 14.3915 16H0.846561C0.622039 16 0.406713 15.9108 0.247952 15.752C0.0891909 15.5933 0 15.378 0 15.1534V1.60847C0 1.38394 0.0891909 1.16862 0.247952 1.00986C0.406713 0.851096 0.622039 0.761905 0.846561 0.761905H11.6461ZM14.8021 0L16 1.19873L8.21841 8.98032L7.02307 8.98286L7.02138 7.78328L14.8021 0Z"
                fill="#0d6efd" />
            </svg>
          </a>
        </div>
      </div>

      <div class="row-one">
        <!-- <span class="category">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.5" y="0.5" width="15" height="15" rx="7.5" fill="#BCC3CC" stroke="#BCC3CC" />
                        <mask id="path-2-inside-1_741_946" fill="white">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8 13.25C8 13.25 12 9.45914 12 7.25C12 5.04086 10.2091 3.25 8 3.25C5.79086 3.25 4 5.04086 4 7.25C4 9.45914 8 13.25 8 13.25ZM8 8.45C8.66274 8.45 9.2 7.91274 9.2 7.25C9.2 6.58726 8.66274 6.05 8 6.05C7.33726 6.05 6.8 6.58726 6.8 7.25C6.8 7.91274 7.33726 8.45 8 8.45Z" />
                        </mask>
                        <path
                            d="M8 13.25L7.31212 13.9758L8 14.6277L8.68788 13.9758L8 13.25ZM11 7.25C11 7.53926 10.8546 8.00549 10.5036 8.62888C10.1677 9.22546 9.70676 9.85686 9.22563 10.4457C8.74758 11.0308 8.26685 11.5529 7.90425 11.93C7.72348 12.1179 7.57338 12.2684 7.46935 12.3711C7.41736 12.4225 7.37697 12.4617 7.3501 12.4877C7.33667 12.5007 7.32663 12.5103 7.32021 12.5165C7.31701 12.5195 7.31471 12.5217 7.31335 12.523C7.31267 12.5237 7.31223 12.5241 7.31202 12.5243C7.31192 12.5244 7.31187 12.5244 7.31189 12.5244C7.3119 12.5244 7.31196 12.5243 7.31196 12.5243C7.31203 12.5243 7.31212 12.5242 8 13.25C8.68788 13.9758 8.688 13.9757 8.68813 13.9756C8.68819 13.9755 8.68834 13.9754 8.68847 13.9753C8.68873 13.975 8.68905 13.9747 8.68944 13.9743C8.6902 13.9736 8.6912 13.9727 8.69245 13.9715C8.69493 13.9691 8.69837 13.9658 8.70274 13.9617C8.71146 13.9533 8.72388 13.9414 8.73974 13.9261C8.77147 13.8954 8.81701 13.8511 8.8744 13.7945C8.98912 13.6812 9.15152 13.5183 9.34575 13.3164C9.73315 12.9135 10.2524 12.35 10.7744 11.7112C11.2932 11.0761 11.8323 10.3456 12.2464 9.61008C12.6454 8.90137 13 8.06531 13 7.25H11ZM8 4.25C9.65685 4.25 11 5.59315 11 7.25H13C13 4.48858 10.7614 2.25 8 2.25V4.25ZM5 7.25C5 5.59315 6.34315 4.25 8 4.25V2.25C5.23858 2.25 3 4.48858 3 7.25H5ZM8 13.25C8.68788 12.5242 8.68797 12.5243 8.68804 12.5243C8.68804 12.5243 8.6881 12.5244 8.68811 12.5244C8.68813 12.5244 8.68808 12.5244 8.68798 12.5243C8.68777 12.5241 8.68733 12.5237 8.68665 12.523C8.68529 12.5217 8.68299 12.5195 8.67979 12.5165C8.67337 12.5103 8.66333 12.5007 8.6499 12.4877C8.62303 12.4617 8.58264 12.4225 8.53065 12.3711C8.42662 12.2684 8.27652 12.1179 8.09575 11.93C7.73315 11.5529 7.25242 11.0308 6.77437 10.4457C6.29324 9.85686 5.83227 9.22546 5.49638 8.62888C5.1454 8.00549 5 7.53926 5 7.25H3C3 8.06531 3.3546 8.90137 3.75362 9.61008C4.16773 10.3456 4.70676 11.0761 5.22563 11.7112C5.74758 12.35 6.26685 12.9135 6.65425 13.3164C6.84848 13.5183 7.01088 13.6812 7.1256 13.7945C7.18299 13.8511 7.22853 13.8954 7.26026 13.9261C7.27612 13.9414 7.28854 13.9533 7.29726 13.9617C7.30163 13.9658 7.30507 13.9691 7.30755 13.9715C7.3088 13.9727 7.3098 13.9736 7.31056 13.9743C7.31095 13.9747 7.31127 13.975 7.31153 13.9753C7.31166 13.9754 7.31181 13.9755 7.31187 13.9756C7.312 13.9757 7.31212 13.9758 8 13.25ZM8.2 7.25C8.2 7.36046 8.11046 7.45 8 7.45V9.45C9.21503 9.45 10.2 8.46503 10.2 7.25H8.2ZM8 7.05C8.11046 7.05 8.2 7.13954 8.2 7.25H10.2C10.2 6.03497 9.21503 5.05 8 5.05V7.05ZM7.8 7.25C7.8 7.13954 7.88954 7.05 8 7.05V5.05C6.78497 5.05 5.8 6.03497 5.8 7.25H7.8ZM8 7.45C7.88954 7.45 7.8 7.36046 7.8 7.25H5.8C5.8 8.46503 6.78497 9.45 8 9.45V7.45Z"
                            fill="white" mask="url(#path-2-inside-1_741_946)" />
                    </svg>
                    <p>{{item.location}}</p>
                </span> -->
        <p class="price" style="padding-left: 20px;">
          {{item.offerPrice|currency:'INR'}}/<sub class="striked">{{item.marketPlace|currency:'INR'}}</sub>
        </p>
        <div class="view-icons">
          <span (click)="delete_post(item._id)" *ngIf="item.status=='Active'">
            <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12.0769 3.38636L11.6923 10.1522C11.6716 10.5168 11.5169 10.8595 11.2598 11.1101C11.0027 11.3607 10.6628 11.5001 10.3095 11.5H3.69046C3.33721 11.5001 2.99726 11.3607 2.7402 11.1101C2.48314 10.8595 2.32842 10.5168 2.30769 10.1522L1.92308 3.38636M5.61538 6.01136L7 7.44318M7 7.44318L8.38462 8.875M7 7.44318L8.38462 6.01136M7 7.44318L5.61538 8.875M1.69231 3.38636H12.3077C12.6898 3.38636 13 3.06564 13 2.67045V1.71591C13 1.32073 12.6898 1 12.3077 1H1.69231C1.31015 1 1 1.32073 1 1.71591V2.67045C1 3.06564 1.31015 3.38636 1.69231 3.38636Z"
                stroke="#FF4C4C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </span>
          <span (click)="remove_post(item)"
            *ngIf="item.status=='Completed' ||item.status=='Assigned' && item.endTime < iso">
            <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M15.7692 4.18182L15.2564 13.2029C15.2288 13.6891 15.0225 14.146 14.6797 14.4801C14.337 14.8142 13.8837 15.0002 13.4127 15H4.58728C4.11628 15.0002 3.66301 14.8142 3.32027 14.4801C2.97752 14.146 2.77122 13.6891 2.74359 13.2029L2.23077 4.18182M7.15385 7.68182L9 9.59091M9 9.59091L10.8462 11.5M9 9.59091L10.8462 7.68182M9 9.59091L7.15385 11.5M1.92308 4.18182H16.0769C16.5865 4.18182 17 3.75418 17 3.22727V1.95455C17 1.42764 16.5865 1 16.0769 1H1.92308C1.41354 1 1 1.42764 1 1.95455V3.22727C1 3.75418 1.41354 4.18182 1.92308 4.18182Z"
                stroke="#BCC3CC" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="buyplan" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog  modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-body">
        <p>Add post will be active after purchasing the plan!</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ok</button>

      </div>
    </div>
  </div>
</div>


<!-- popup -->

<div class="popup" *ngIf="view_details != null">
  <div class="dummy" (click)="close_popup()"></div>
  <div class="popup-container">
    <a class="popupclose" (click)="close_popup()">x</a>
    <ul>
      <li [ngClass]="view_details_type == 'content' ? 'active' : ''" (click)="view_details_type_action('content')">
        Details
      </li>
      <li [ngClass]="view_details_type == 'image' ? 'active' : ''" (click)="view_details_type_action('image')">
        Images
      </li>
      <li [ngClass]="view_details_type == 'video' ? 'active' : ''" (click)="view_details_type_action('video')">
        Teaser
      </li>
    </ul>
    <!-- details -->
    <div class="details" *ngIf="view_details_type == 'content'">
      <div>
        <label>Product Name :</label>
        <p>{{ view_details.productName }}</p>
      </div>
      <div>
        <label>Unit :</label>
        <p>{{ view_details.unit?view_details.unit:'nill' }}</p>
      </div>
      <div>
        <label>Quantity :</label>
        <p>{{ view_details.quantity }}</p>
      </div>
      <div>
        <label>Market Price :</label>
        <p>{{ view_details.marketPlace }}</p>
      </div>
      <div>
        <label>Offer Price :</label>
        <p>{{ view_details.offerPrice }}</p>
      </div>
      <div>
        <label>Booking Amount :</label>
        <p>{{ view_details.bookingAmount }}</p>
      </div>

      <div>
        <label>Post Live Streaming Pirce :</label>
        <p>{{ view_details.postLiveStreamingPirce?view_details.postLiveStreamingPirce:'null' }}</p>
      </div>
      <div>
        <label>Min Lots :</label>
        <p>{{ view_details.minLots }}</p>
      </div>
      <div>
        <label>Incremental Lots :</label>
        <p>{{ view_details.incrementalLots?view_details.incrementalLots:0 }}</p>
      </div>
      <div>
        <label>Description :</label>
        <p>{{ view_details.discription }}.</p>
      </div>
    </div>

    <div class="images" *ngIf="view_details_type == 'image'">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button *ngFor="let item of view_details.images; index as i" type="button"
            data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [ngClass]="i == 0 ? 'active' : ''"
            [attr.aria-current]="i == 0 ? true : false" [attr.aria-label]="'Slide ' + i"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item" *ngFor="let item of view_details.images; index as i"
            [ngClass]="i == 0 ? 'active' : ''">
            <img src="{{ baseURL + '/' + item }}" class="d-block w-100" alt="..." />
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <div class="teaser" *ngIf="view_details_type == 'video'">
      <video *ngIf="view_details.video != null" src="{{ view_details.video }}" controls></video>
    </div>
  </div>
</div>